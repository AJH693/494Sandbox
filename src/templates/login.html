{% extends "layout.html" %}

{% block title %}Login{% endblock %}

{% block css %}
super()
{% endblock %}

{% block login %}

<div class="container col-md-4 col-md-offset-3">

      <form class="form-signin" role="form">
        <h2 class="form-signin-heading">Please sign in</h2>
        <input id="email" type="email" class="form-control" placeholder="Email address" required autofocus>
        <input id="password" type="password" class="form-control" placeholder="Password" required>
        <div class="row">
          <label class="checkbox">
            <input type="checkbox" value="remember-me"> Remember me
          </label>
          <button id="submit" class="btn btn-sm btn-primary" type="submit">Sign in</button>
        </div>
      </form>

    </div>
{% endblock %}

{% block js_bottom %}
{{ super() }}
<script type="text/javascript">
  $(document).ready(function(){

    $('#submit').click(function(){
      var email = $('#email').val();
      var password = $('#password').val();
      var data = {'email':email, 'password':password};
      $.ajax({
        url: '{{ url_for("login") }}',
        data: JSON.stringify(data),
        type: 'POST',
        contentType: 'application/json'
      })
    })
  })

</script>

{% endblock %}